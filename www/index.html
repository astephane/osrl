<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
    <meta charset="UTF-8" />
    <title>Minimal JS front-end App Example</title>
    <!-- <script src="./run.js"></script> -->
  </head>

  <body>

    <p>See: <a href="https://www.codeproject.com/articles/753724/javascript-front-end-web-app-tutorial-part">https://www.codeproject.com/articles/753724/javascript-front-end-web-app-tutorial-part</a></p>

    <h1>Star System Generator</h1>

    <h2>Classic Traveller</h2>

    <button type="button" onclick="foo()">Generate Random</button>

    <!-- <p id="demo"></p> -->

    <p>Alpha</p><p>Beta</p>

    <div id="console"></div>

    <h1>DOM</h1>

    <button type="button" onclick="explore_children( null )">Children</button>
    <button type="button" onclick="explore_nodes( null )">Nodes</button>

    <div id="children" />
    <div id="nodes" />

  </body>

  <script>

    function get_console()
    {
        return document.getElementById( "console" );
    }

    function clear_console()
    {
        console = get_console();

        // while( console.hasChildNodes() )
        // {
        // }
    }

    function print( text, console )
    {
        const paragraph = document.createElement( "p" );
        {
            const text_node = document.createTextNode( text );

            paragraph.appendChild( text_node );
        }

        document.getElementById( console ).appendChild( paragraph );
    }

    function get_type( node )
    {
        switch( node.nodeType )
        {
            case 1: return "ELEMENT_NODE"; break;
            case 2: return "ATTRIBUTE_NODE"; break;
            case 3: return "TEXT_NODE"; break;
            case 4: return "COMMENT_NODE"; break;
            case 5: return "DOCUMENT_NODE"; break;
            case 6: return "DOCUMENT_TYPE_NODE"; break;
            default: return "NIL"; break;
        }
    }

    function explore_children( element )
    {
        if( element == null )
        {
            explore_children( document.documentElement );
            return;
        }

        print( get_type( element ) + ": " + element.nodeName, "children" );

        for( let i = 0; i < element.children.length; ++i )
            explore_children( element.children[ i ]  );
    }

    function explore_nodes( node )
    {
        if( node == null )
        {
            explore_nodes( document.documentElement );
            return;
        }

        print( get_type( node ) + ": " + node.nodeName, "nodes" );

        for( let child in node.childNodes )
            explore_nodes( child );
    }

    function foo()
    {
        console = get_console();
    }

    function generate_star_system()
    {
        return "New CT star system.";
    }
  </script>

</html>
